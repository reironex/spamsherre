<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ShareBoost Admin Panel</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f0f17;
  color: #eee;
  padding: 20px;
}
input, button {
  font-size: 16px;
  border-radius: 6px;
  border: 2px solid #ff4ecd;
  padding: 8px;
}
button {
  background: linear-gradient(135deg, #ff4ecd, #a74fff);
  color: white;
  cursor: pointer;
}
button:hover {
  background: linear-gradient(135deg, #ff6fe1, #b26bff);
}
</style>
</head>
<body>

<h1>Admin Panel â€” Send Messages</h1>

<div style="margin:20px;">
  <input type="text" id="admin-input" placeholder="Type your message" style="width:60%;">
  <button onclick="sendMessage()">Send</button>
</div>

<script>
async function sendMessage(){
  const msg = document.getElementById("admin-input").value.trim();
  if(!msg) return alert("Message cannot be empty");

  try {
    const res = await fetch("/admin/message", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({ message: msg })
    });
    const data = await res.json();
    if(data.status==="ok"){
      document.getElementById("admin-input").value = "";
      alert("Message sent!");
    } else {
      alert("Error sending message: " + (data.error || "Unknown"));
    }
  } catch(e){
    alert("Failed to send message: " + e.message);
  }
}
</script>

</body>
</html>
